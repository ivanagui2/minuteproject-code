#exposeJSFEntitySpecific()
#exposeJSFModelSpecific()
#exposeSeparator()
#exposePrimefacesConfig()
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="$primefacesNamespace">
<ui:composition template="$modelDecoratorJSFImport">
	<ui:define name="title">
		<h:outputText value="#{i18n.listTitle} of ${tableClassName}" />
	</ui:define>
	<ui:define name="heading">
		<h:outputText value="#{i18n.listHeading}" />
	</ui:define>
<ui:define name="body">
		
 <h:form id="form${tableClassName}"> 

	         <h:panelGroup id="dataPanel">  
						
                <p:dataTable value="#{${entityControllerJSFVariable}.lazyModel}" 
					id="${domainVariableName}Table" 
					var="${domainVariableName}" 
					paginator="true" rows="10"  
##                            dynamic="true"  resizableColumns="true"
                    paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"  
                    rowsPerPageTemplate="10,20,50"> 
                    <f:facet name="header">  
                        List of #{i18n.${tableVariableName}s}  
                    </f:facet>  
	
#foreach($column in ${table.primaryKeyColumns})
#putColumnParams()
#columnJavaNaming()
#if (!$isMany2Many && $isPkUserProvided)
        <p:column sortBy="#{${domainVariableName}.${columnVar}}" filterBy="#{${domainVariableName}.${columnVar}}" >  
            <f:facet name="header">  
                <h:outputText value="#{i18n.$tableVariableName$separator$columnVar}" />  
            </f:facet>  
            <h:outputText value="#{${domainVariableName}.${columnVar}}" />  
        </p:column> 
#end
#end		
#foreach ($column in $table.attributes)
#putColumnParams()
#columnJavaNaming()	
        <p:column sortBy="#{${domainVariableName}.${columnVar}}" filterBy="#{${domainVariableName}.${columnVar}}">  
            <f:facet name="header">  
                <h:outputText value="#{i18n.$tableVariableName$separator$columnVar}" />  
            </f:facet>  
            <h:outputText value="#{${domainVariableName}.${columnVar}}" />  
        </p:column>  
#end

                        <p:column>
                        
                        	<p:commandLink id="selectButton" update=":form2:panel" title="Edit" process="@this">
                     			<h:outputText value="Edit" /> 
                     			<f:setPropertyActionListener value="#{${domainVariableName}}" target="#{${entityControllerJSFVariable}.selected${tableClassName}}" />
##                     			<f:setPropertyActionListener value="#{${domainVariableName}}" target="#{employeesController.current}" />
                 			</p:commandLink >
                 			|
                 			<p:commandLink  id="detailButton" update=":form2:display" title="View Details" oncomplete="detailDialog.show()" process="@this">
                 				<h:outputText value="View" />
                     			<f:setPropertyActionListener value="#{${domainVariableName}}" target="#{${entityControllerJSFVariable}.selected${tableClassName}}" />
##                     			<f:setPropertyActionListener value="#{${domainVariableName}}" target="#{employeesController.detailedEmployee}" />
                 			</p:commandLink >
                 			|
                 			<p:commandLink  id="showDialogButton" update=":dialogForm:confirmDialog" title="Delete" oncomplete="confirmation.show()" process="@this">
                 				<h:outputText value="Delete" />  
##                 				<f:setPropertyActionListener value="#{${domainVariableName}}" target="#{employeesController.detailedEmployee}" />
                 				<f:setPropertyActionListener value="#{${domainVariableName}}" target="#{${entityControllerJSFVariable}.selected${tableClassName}}" />
                 			</p:commandLink >
        				
                    	</p:column>

                    </p:dataTable>
                </h:panelGroup>
           </h:form>
                
                <br/>
                
             
                
  			<h:form id="form2">
				<p:messages id="messages" autoUpdate="true"/>  
				<p:panelGrid columns="4" id="panel" >
                   
                    <f:facet name="header">
                    Create/Update Employee
                    </f:facet> 
                   
                     <h:outputLabel value="First Name:" for="firstName" />                    
                    <p:inputText label="First Name" id="firstName" value="#{employeesController.current.firstName}" title="First Name" required="true" 
                    	validatorMessage="#{bundle.EmployeeValidationFirstName}" requiredMessage="#{bundle.EmployeeRequiredMessage_firstName}">
                    	<f:validateRegex pattern=".*\p{Alpha}{3,16}" />
                    </p:inputText>
                   
					<h:outputLabel value="Last Name:" for="lastName" />
                    <p:inputText label="Last Name" id="lastName" value="#{employeesController.current.lastName}" title="Last Name" required="true" 
                    	validatorMessage="#{bundle.EmployeeValidationLastName}" requiredMessage="#{bundle.EmployeeRequiredMessage_lastName}">
                    	<f:validateRegex pattern="\p{Alpha}{3,16}" />
                    </p:inputText>
                    
                    <h:outputLabel value="Extension:" for="extension" />
                    <p:inputText label="Extension" id="extension" value="#{employeesController.current.extension}" title="Extension" required="true" 
                    	validatorMessage="#{bundle.EmployeeValidationExtension}" requiredMessage="#{bundle.EmployeeRequiredMessage_extension}">
                    	<f:validateRegex pattern="[x|X]?\d{4}" />
                    </p:inputText>

                    <h:outputLabel value="Email:" for="email" />
                    <p:inputText label="Email" id="email" value="#{employeesController.current.email}" title="Email" required="true" 
                    	validatorMessage="#{bundle.EmployeeValidationEmail}" requiredMessage="#{bundle.EmployeeRequiredMessage_email}">
                    	<f:validateRegex pattern="#{bundle.emailRegex}" />
                    </p:inputText>

                    <h:outputLabel value="Job Title:" for="jobTitle" />

					<h:selectOneMenu id="jobTitle" value="#{employeesController.current.jobTitle}" required="true" requiredMessage="#{bundle.EmployeeRequiredMessage_jobTitle}">
                    	<f:selectItem noSelectionOption="true" itemLabel="Please Select"/>
                        <f:selectItems value="#{employeesController.jobTitlesList}" var="job"
                   			itemLabel="#{job}" itemValue="#{job}"/>
                    </h:selectOneMenu>


                    <h:outputLabel value="Office Code:" for="officeCode" />
                    <h:selectOneMenu id="officeCode" value="#{employeesController.current.office}" required="true" requiredMessage="#{bundle.EmployeeRequiredMessage_officeCode}">
                    	<f:selectItem noSelectionOption="true" itemLabel="Please Select"/>
                        <f:selectItems value="#{employeesController.allOffices}" var="off"
                   			itemLabel="#{off.city}" itemValue="#{off}"/>
                    </h:selectOneMenu>
                    
                    
					<h:outputLabel />
					<h:outputLabel />
					

                    <h:outputLabel value="Reports To:" for="reportsTo" />
                    <h:selectOneMenu id="reportsTo" value="#{employeesController.current.reportsTo}" required="true" requiredMessage="#{bundle.EmployeeRequiredMessage_reportsTo}">
                    	<f:selectItem noSelectionOption="true" itemLabel="Please Select"/>
                        <f:selectItems value="#{employeesController.allManagers}" var="emp"
                   			itemLabel="#{emp.firstName} #{emp.lastName} (#{emp.jobTitle} )" itemValue="#{emp}"/>
                    </h:selectOneMenu>

                    <f:facet name="footer">  
				        <p:commandButton value="Save" icon="ui-icon-check"  actionListener="#{employeesController.createOrUpdateListener}" update=":form:empTable,:form2:panel" />  
				        <p:commandButton value="Clear" immediate="true" icon="ui-icon-cancel" process="@this" actionListener="#{employeesController.clearListener}" update=":form2:panel" style="margin:5px;"/>
				    </f:facet> 
                </p:panelGrid>



			   <p:dialog id="basicDialog" header="Employee Details" widgetVar="detailDialog"  resizable="false" >  
							<h:panelGrid  id="display" columns="2">
			                    <h:outputText value="#{bundle.EmployeeLabel_employeeNumber}"/>
			                    <h:outputText value="#{employeesController.detailedEmployee.employeeNumber}" title="#{bundle.EmployeeTitle_employeeNumber}"/>
			                    <h:outputText value="#{bundle.EmployeeLabel_lastName}"/>
			                    <h:outputText value="#{employeesController.detailedEmployee.lastName}" title="#{bundle.EmployeeTitle_lastName}"/>
			                    <h:outputText value="#{bundle.EmployeeLabel_firstName}"/>
			                    <h:outputText value="#{employeesController.detailedEmployee.firstName}" title="#{bundle.EmployeeTitle_firstName}"/>
			                    <h:outputText value="#{bundle.EmployeeLabel_jobTitle}"/>
			                    <h:outputText value="#{employeesController.detailedEmployee.jobTitle}" title="#{bundle.EmployeeTitle_jobTitle}"/>
			                    <h:outputText value="#{bundle.EmployeeLabel_email}"/>
			                    <h:outputText value="#{employeesController.detailedEmployee.email}" title="#{bundle.EmployeeTitle_email}"/>
			                    <h:outputText value="#{bundle.EmployeeLabel_extension}"/>
			                    <h:outputText value="#{employeesController.detailedEmployee.extension}" title="#{bundle.EmployeeTitle_extension}"/>
			                    <h:outputText value="#{bundle.EmployeeLabel_officeCode}"/>                    
			                    <h:outputText value="#{employeesController.detailedEmployee.office.officeCode} (#{employeesController.detailedEmployee.office.city})" title="#{bundle.EmployeeTitle_officeCode}"/>
			                    <h:outputText value="#{bundle.EmployeeLabel_officePhone}"/>                    
			                    <h:outputText value="#{employeesController.detailedEmployee.office.phone}" title="#{bundle.EmployeeTitle_officePhone}"/>
			                    <h:outputText value="#{bundle.EmployeeLabel_reportsTo}"/>
			                    <h:outputText value="#{employeesController.detailedEmployee.reportsTo.employeeNumber} (#{employeesController.detailedEmployee.reportsTo.firstName} #{employeesController.detailedEmployee.reportsTo.lastName})" />
			                    <h:outputText value="Version: "/>
			                    <h:outputText value="#{employeesController.detailedEmployee.version}" />
			                </h:panelGrid> 
				</p:dialog>   

		</h:form>
    
		<h:form id="dialogForm">
			<p:confirmDialog id="confirmDialog" header="Confirm Delete Employee" severity="alert" widgetVar="confirmation">  
	                  	<f:facet name="message">
						<h:outputText value="Delete #{employeesController.detailedEmployee.firstName} #{employeesController.detailedEmployee.lastName} (Employee Number: #{employeesController.detailedEmployee.employeeNumber}) ?" />
						</f:facet>
	                  
	        <p:commandButton id="confirm" value="Yes" oncomplete="confirmation.hide()"  update=":form:empTable" 
	                     actionListener="#{employeesController.destroyListener}"/>  
	        <p:commandButton id="decline" value="No" onclick="confirmation.hide()" type="button" />   
	                  
			</p:confirmDialog>  
		</h:form>
				
        </ui:define>
    </ui:composition>
</h:body>
</html>

#########################&nbsp;

    <p:dataTable var="${domainVariableName}" value="#{${entityControllerJSFVariable}.findAll()}" paginator="true" rows="10"  
                selection="#{${entityControllerJSFVariable}.selected${tableClassName}}" selectionMode="single" rowKey="#{${domainVariableName}}"
                onRowSelectUpdate="display" onRowSelectComplete="${domainVariableName}Dialog.show()" 
                dynamic="true"  resizableColumns="true"
                paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"  
                rowsPerPageTemplate="5,10,15"> 
        <f:facet name="header">  
            List of #{i18n.${tableVariableName}s}  
        </f:facet>  
		<p:column style="width:16px">  
			<p:rowToggler/>  
		</p:column>
#foreach($column in ${table.primaryKeyColumns})
#putColumnParams()
#columnJavaNaming()
#if (!$isMany2Many && $isPkUserProvided)
        <p:column sortBy="#{${domainVariableName}.${columnVar}}" filterBy="#{${domainVariableName}.${columnVar}}">  
            <f:facet name="header">  
                <h:outputText value="#{i18n.$tableVariableName$separator$columnVar}" />  
            </f:facet>  
            <h:outputText value="#{${domainVariableName}.${columnVar}}" />  
        </p:column> 
#end
#end		
#foreach ($column in $table.attributes)
#putColumnParams()
#columnJavaNaming()	
        <p:column sortBy="#{${domainVariableName}.${columnVar}}" filterBy="#{${domainVariableName}.${columnVar}}">  
            <f:facet name="header">  
                <h:outputText value="#{i18n.$tableVariableName$separator$columnVar}" />  
            </f:facet>  
            <h:outputText value="#{${domainVariableName}.${columnVar}}" />  
        </p:column>  
#end
		<f:facet name="footer"> 
			<p:commandButton id="viewButton" value="View" icon="ui-icon-search"  
                    update=":form${tableClassName}:display" oncomplete="${domainVariableName}Dialog.show()"/>  	
##			<p:commandButton title="New #{i18n.$tableVariableName}" value="New #{i18n.$tableVariableName}" action="#{${entityControllerJSFVariable}.displayInput}" />
            <h:button value="New #{i18n.$tableVariableName}" outcome="${entityCreateJSFLocation}" class="Automatic reply: ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only"/>
            <p:commandButton title="Delete #{i18n.$tableVariableName}" value="Delete #{i18n.$tableVariableName}" action="#{${entityControllerJSFVariable}.delete}" />
		</f:facet> 	
		
		<p:rowExpansion>  
			<p:fieldset legend="${domainVariableName} Details">  
				 <p:toolbar>  
					<p:toolbarGroup align="left"> 
						<p:commandButton type="button" title="Edit" icon="ui-icon-folder-open"/>  
						<p:separator />          
						<p:commandButton type="button" title="Save" icon="ui-icon-disk"/>  
						<p:separator />  
						<p:commandButton type="button" title="Cancel" icon="ui-icon-trash"/> 
					</p:toolbarGroup>  
				</p:toolbar>
				<h:panelGrid columns="2" cellpadding="5"  styleClass="list_display_table_TR_even">
#foreach($column in ${table.primaryKeyColumns})
#putColumnParams()
#columnJavaNaming()
#if (!$isMany2Many && $isPkUserProvided)
            <h:outputText value="#{i18n.$tableVariableName$separator$columnVar}:" />  
            <h:outputText value="#{${entityControllerJSFVariable}.selected${domainClassName}.$columnVar}" />  
#end
#end  
#foreach ($column in $table.attributes)
#putColumnParams()
#columnJavaNaming()	
            <h:outputText value="#{i18n.$tableVariableName$separator$columnVar}:" />  
            <h:outputText value="#{${entityControllerJSFVariable}.selected${domainClassName}.$columnVar}" />  
#end
				</h:panelGrid>
			</p:fieldset> 
##<!--
##			<p:fieldset legend="agentRole's Summary">
##				<p:toolbar id="agentRoleToolBar">  
##					<p:toolbarGroup align="left"> 
##						<p:commandButton type="button" title="Add agentRole"  actionListener="#{agentRoleController.displayInput}" icon="ui-icon-document" update="evtsForm"/>         
##					</p:toolbarGroup>
##				</p:toolbar> 
##					<h:panelGrid columns="3" cellpadding="5"  styleClass="list_display_table_TR_even">
##						<c:forEach  var="evt" items="#{agentRoleController.selectedAgentRole.events}" varStatus="result" >
##								<p:column>
##									<h:outputText value="#{evt.typeEvent.label}" />  
##								</p:column> 
##								<p:column> 
##									<h:commandLink action="#{eventDetailsHistoryAction.displayEventDetails}">
##										<p:graphicImage value="/img/search.png"/> 
##										<f:param name="selectedEventUid" value="#{evt.uid}"/>
##									</h:commandLink>
##								</p:column> 
##								<p:column>  
##									<h:commandLink action="#{eventDetailsHistoryAction.deleteEvent}">
##										<p:graphicImage value="/img/delete_element.gif"/> 
##										<f:param name="selectedEventUid" value="#{evt.uid}"/>
##									</h:commandLink>
##								</p:column>  
##						</c:forEach> 
##					</h:panelGrid>
##			</p:fieldset> 
##-->
		</p:rowExpansion>  
		
    </p:dataTable>  
  
    <p:dialog header="$domainVariableName detail" widgetVar="${domainVariableName}Dialog" 
		resizable="true" id="${domainVariableName}DialogId" 
        width="400" showEffect="clip" hideEffect="fold">  
  
        <h:panelGrid id="display" columns="2" cellpadding="4">  
#foreach($column in ${table.primaryKeyColumns})
#putColumnParams()
#columnJavaNaming()
#if (!$isMany2Many && $isPkUserProvided)
            <h:outputText value="#{i18n.$tableVariableName$separator$columnVar}:" />  
            <h:outputText value="#{${entityControllerJSFVariable}.selected${domainClassName}.$columnVar}" />  
#end
#end  
#foreach ($column in $table.attributes)
#putColumnParams()
#columnJavaNaming()	
            <h:outputText value="#{i18n.$tableVariableName$separator$columnVar}:" />  
            <h:outputText value="#{${entityControllerJSFVariable}.selected${domainClassName}.$columnVar}" />  
#end

        </h:panelGrid>  
    </p:dialog>  
  
</h:form> 

</ui:define>
</ui:composition>
</html>