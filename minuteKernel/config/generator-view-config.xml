<view name="test" projectname="myProject">
	<service name="customerAccount" description="get the missing customer accounts">
		<function name="specificCustomerAccount" method="getSpecificCustomerAccount" 
		          description="get the missing customer accounts">
			<input>
				<param name="bureau" type="string" mandatory="true">
				</param>
			</input>
			<output>
				<param name="customerAccount" type="string">
					<logicalLink>
						<model-entity refname="CLIENTS"><!-- check the unicity -->
							<entity-field refname="CustomerAccount"/>
						</model-entity>
					</logicalLink>
				</param>
			</output>
			<query>
				<value>select Numcompte as "customerAccount" from clients</value>
			</query>
			<test rollBackAfterTest="false" name="specificCustomerAccountSetup">
				<setup >
					<setup-method name="initClientEntities" strategy="populateEntitiesIntoDB">
						<entity name="client">
							<field name="numCompte">
								<value>0044</value>
							</field>
						</entity>
						<entity name="client">
							<field name="numCompte">
								<value>0045</value>
							</field>
						</entity>	
					</setup-method>				
				</setup>
				<check>
					<check-method name="quantityReturned" strategy="returnItems">
						<value>2</value>
					</check-method>
				</check>
				<teardown>
				</teardown>
			</test>
		</function>
	</service>
	<export>
		<presentation></presentation>
		<soa></soa>
	</export>
	<target refname="ViewOnBsla" name="default"/>
</view>
